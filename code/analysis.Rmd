---
output:
  pdf_document:
    # citation_package: biblatex
    keep_tex: true
    fig_caption: true
    latex_engine: pdflatex
    template: ../svm-latex-ms.tex
title: "Political Donor Polarization in Wisconsin"
thanks: "Code and data available at: github.com/rossdahlke"
author:
- name: Ross Dahlke
affiliation: University of Wisconsin-Madison
abstract: "Since the 2012 recall election of Governor Scott Walker, political polarization in Wisconsin has become a major topic in Wisconin's politics. Mass polarization among Wisconsin's electorate is well documented. However, there is little research done on polarization of political donors and the policy implications of donor polarization. This study intends to fill this research gap by studying networks of political donors in Wisconsin. I use data from the Wisconsin Campaign Finance Information System, Wisconsin’s official campaign finance database, to create networks of donors to candidates for Wisconsin’s state-wide and state-legislative races. By using community modularity, I empirically show that Republican and Democratic donor networks polarized in the 2012 election cycle during the recall election of Scott Walker and remained polarized in the 2014 election cycle in which Governor Walker was reelected. I also validate these results using a non-parametric bootrapping method. I discuss the implications of this conclusion ______"
keywords: "state politics, political donations, network analysis, polarization"
date: "`r format(Sys.time(), '%B %d, %Y')`"
geometry: margin=1in
fontfamily: mathpazo
fontsize: 11pt
spacing: double
bibliography: ../bibliography.bib
biblio-style: apsr
---

Political campaign finance plays an important role in the American political system. This significance is evidenced by the attention that academic researchers pay the topic as well as the many different contexts in which campaign finance is studied. For example, academics have researched the impact of political donations on roll call voting in the U.S. Congress [@roscoe2005; @stratmann1991], gender representation in political parties [@crowder-meyer2018; @barber2016; @kitchens2016; @thomsen2017], ability to win political campaigns [@bonica2017; @bonneau2007], the connection between money raised and public attention [@ellis2017], judicial function [@palmer2008], perceptions of corruption [@bowler2015], political economy and stock returns [@akey2015; @garro2020; @cooper2010], and the significant amount of time that candidates and legislators devote to fundraising [@torres-spelliscy2017].

Similarities to other political actors? Same psychological processes?

Are political donors being becoming polarized like other political actors?

Some research has started to investigate the connection between donors and candidates as "an important part of the story of the polarization of American politics" [@barber2016]. Barber found that higher state-level contribution limits for individuals leads to more moderate legislator in that state. And higher limits for political action committees (PACs) results in more moderate candidates.

While polling may show the polarization of political donors, there has not been much research into actual actions of political donors that show evidence for their polarization

Voters have more polarized voting, office holders can have more polarized voting records.

This study asks the question: Like other political actors, is there evidence of political donors becoming polarized?

Hypothesis: Yes, they are becoming more polarized, in part because they are already a largely polarized group. We would expect more polarization

Since donors are believed to play an out-sized role in our democracy, understanding whether political donors have become more polarized is important for identifying both the causes and effects of polarization in our entire political system

```{r setup, include=FALSE}
knitr::opts_chunk$set(include = FALSE)
library(tidyverse)
library(infer)
library(igraph)
```

# Methodology

  All data on political contributions came from the Wisconsin Campaign Finance Information System (CFIS). I exported all contributions to State Assembly, State Senate, and Gubernatorial races from the 2010, 2012, and 2014 elections. This dataset does not include donations to party committees, although it does include disbursements from these committees. I manually created a table of the parties of each of all the campaigns receiving contributions in this timeframe and added the party of the campaign receiving the donation to this dataset.

```{r}
donations <- readRDS("../data/wi_donations.RDA") %>% 
  mutate(source = str_to_lower(str_replace(source, "[[:punct:]]", " ")),
         election_year =  as.character(election_year)) 

anon_donations_n <- donations %>% 
  filter(str_detect(source, c("unitemized|anonymous")) == T) %>% 
  count() %>% 
  pull()

donations_2 <- donations %>% 
  filter(str_detect(source, c("unitemized|anonymous")) == F) %>% 
  mutate(zip_5 = str_sub(zip, 1, 5),
         refined_source = refinr::n_gram_merge(refinr::key_collision_merge(source)),
         refined_source_zip = paste0(refined_source," : ",zip_5)) 

filtered_donations <- donations_2 %>% 
  group_by(election_year, refined_source_zip) %>% 
  mutate(source_count = n()) %>% 
  filter(source_count > 1) %>% 
  group_by(election_year, target) %>% 
  mutate(target_count = n()) %>% 
  filter(target_count > 20) %>% 
  ungroup()
```

I started with ___ donations. To clean the data, I filtered out unitemized/ anonymous donations, removed punctuation from the names of the donors, and used Open Refine via the `refiner` R package to standardize names (for example, Jim versus James). Next, I created a unique identifier for donors by combining their standardized name with their zip code. This identifier was created to be able to link donors who contributed across multiple campaigns in multiple years without considering two different people, with the same name, from different locations to be the same person.

Next, I derived the partisanship of each donor in each election cycle. I calculated each donor's partisanship by taking the percent of donations that each donor gave to Republicans divided by their donations to Republicans and Democrats. I took that "percent donated to Republicans" and rescaled it from -1 to 1, where -1 represents the most Democratic donors, and 1 the most Republican donors. I also calculated each individual's party bin: if more than 75% of donations were to Democrats, they were labeled as a Democrat; if more than 75% of donations were to Republicans, they were labeled as a Republican; if their donations were somewhere inbetween, they were labeled as being a bipartisan donor.

```{r}
by_donor <- filtered_donations %>% 
  filter(party != "other") %>% 
  group_by(election_year, refined_source_zip, party) %>% 
  summarize(contribution = sum(contribution)) %>% 
  ungroup() %>% 
  pivot_wider(names_from = party, 
              values_from = contribution) %>% 
  mutate(rep = replace_na(rep, 0),
         dem = replace_na(dem, 0),
         total_contributions = rep + dem,
         per_rep = rep / total_contributions,
         partisanship = scales::rescale(per_rep, to = c(-1, 1)),
         abs_partisanship = abs(partisanship),
         party_bin = case_when(
           per_rep < .25 ~ "democrat",
           per_rep >= .25 & per_rep <= .75 ~ "bipartisan",
           per_rep > .75 ~ "republican"
         ))

```

To quantify the levels of polarization in each election cycle, I calculated two statistics: network modularity and average absolute partisanship of donors.

First, political donations can be thought of as a network where donors and candidates are nodes and donations connecting donors and candidates are edges. This conceptualization of the political donor landscape as network allows us to examine the network structure and calculate network statistics on the graph of donors and candidates. One of the most useful network statistics for measuring polarization in a network's modularity.

The modularity of a graph measures how good the division of groups (such as political parties) is by calculating "the number of edges falling within groups minus the expected number in an equivalent network with edges placed at random" (https://www.pnas.org/content/103/23/8577). The modularity of a network falls in range [need latex] [-1/2, 1]. If the modularity is positive, the number of edges that remain within each group is greater than the expected number to remain in-group based on chance. The higher the modularity, the greater the concentration of edges within each groups. In other words, the higher the modularity of a network, the higher the polarization among the groups.

I calculated the modularity of the network graphs of each election cycle (2010, 2012, 2014). I used candidates' declared parties and donors' party bin as the groups for the modularity calculation. The modularity of the network graph of each election is in Table 1.

```{r}
modularity_calc <- function(year = year){
  nodes_w_party <- by_donor %>% 
  filter(election_year == year) %>% 
  select(refined_source_zip, party_bin) %>% 
  rename(node = refined_source_zip,
         party = party_bin) %>% 
  rbind(donations_2 %>% 
  distinct(target, party) %>% 
  filter(party != "other") %>% 
    rename(node = target) %>% 
    mutate(party  = case_when(
      party == "rep" ~ "republican",
      party == "dem" ~ "democrat"
    ))) %>% 
  distinct(node, party) %>% 
  mutate(party_num = case_when(
    party == "democrat" ~ 1,
    party == "bipartisan" ~ 2,
    party == "republican" ~ 3
  ))
  

filtered_donations %>%
  filter(election_year == year & party != "other") %>% 
  select(refined_source_zip, target, contribution) %>% 
  graph_from_data_frame(vertices = nodes_w_party) %>% 
  modularity(nodes_w_party$party_num)
}

```

```{r}
election_years <- by_donor %>% 
  distinct(election_year) %>% 
  pull()
```

```{r}
tibble(election_years) %>% 
  group_by(election_years) %>% 
  mutate(modularity = modularity_calc(election_years))
```

In addition to calculating the change in modularity of each of the election cycles, I also analyzed the change in mean absolute partisanship of the donors in each election cycle. 

I defined a donor's absolute partisanship as the absolute value of their partisanship score (which is on a scale from -1 to 1). Therefore, the larger a donor's absolute the partisanship, the higher percentage of their money that they contributed to a single party. To calculate the significance in the difference of the mean absolute partisanship, I use a bootstrap methodology with 1000 replications. The results of the bootstrap are found in Table 2.

```{r}
diff_boostrap <- function(year_1 = "2014",
                          year_2 = "2012",
                          replications = 100) {
  year_1 <- as.character(year_1)
  year_2 <- as.character(year_2)
  
  bootstrap <- by_donor %>% 
    filter(election_year %in% c(year_1, year_2)) %>% 
    specify(abs_partisanship ~ election_year) %>% 
    generate(reps = replications, type = "bootstrap") %>% 
    calculate(stat = "diff in means", order = c(year_1, year_2))
  

  bootstrap %>% 
    get_ci() %>% 
    cbind(bootstrap %>% 
            summarize(mean_diff = mean(stat))) %>% 
    cbind(bootstrap %>% 
            get_p_value(obs_stat = 0, direction = "two_sided"))
  

                          }
```


```{r}
election_years_expanded <- expand.grid(year1 = as.character(election_years),
            year2 = as.character(election_years)) %>% 
  filter(year1 != year2 & 
           as.numeric(year1) > as.numeric(year2) & 
           (as.numeric(year1) - as.numeric(year2) < 2)) %>% 
  ungroup() 

partisanship_diff_results <- cbind(election_years_expanded, 
                                   Map(diff_boostrap, 
                                       election_years_expanded$year1, 
                                       election_years_expanded$year2, 
                                       1000) %>% 
                                     tibble() %>% 
                                     unnest())


```

```{r}
ggplot(by_donor %>% filter(abs_partisanship < 1), aes(abs_partisanship, fill = party_bin)) +
  geom_histogram() +
  facet_wrap(party_bin~election_year, scales = "free_y")
```

```{r}
ggplot(by_donor %>% filter(abs_partisanship < 1), aes(abs_partisanship, fill = party_bin)) +
  geom_density() +
  facet_wrap(party_bin~election_year)
```


# References
